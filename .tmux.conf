# Changing the default prefix key:
#set-option -g prefix M-a
#unbind-key C-b
#bind-key M-a send-prefix

# Act like Vim
set-window-option -g mode-keys vi
bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R

# setup 'v' to begin selection as in Vim
bind-key -t vi-copy v begin-selection
bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"

# Look good
set-option -g default-terminal "screen-256color"

# Enable mouse support (works in iTerm)
set-window-option -g mode-mouse on
set-option -g mouse-select-pane on
set-option -g mouse-resize-pane on
set-option -g mouse-select-window on

# set up layouts
#set main-pane-width 130

# scrollback buffer size increase
set -g history-limit 500000

# C-b C-b will swap to last used window
bind-key C-b last-window

# Start tab numbering at 1
set -g base-index 1
set-window-option -g pane-base-index 1

# Allows for faster key repetition
set -s escape-time 0

# use different keys to split vertical and horizonal
bind | split-window -h
bind - split-window -v

# Change cursor in vim to distinguish between insert and command mode
# Use in conjunciton with tmux-cursors.vim
set-option -g terminal-overrides '*88col*:colors=88,*256col*:colors=256,xterm*:XT:Ms=\E]52;%p1%s;%p2%s\007:Cc=\E]12;%p1%s\007:Cr=\E]112\007:Cs=\E]50;CursorShape=%?%p1%{3}%<%t%{0}%e%p1%{2}%-%;%d\007'

# use C-b v to paste the tmux buffer
bind V paste-buffer

# name windows
#setw -g window-status-current-format "|#I:#(pwd | awk -F '/' '{printf $NF}')|"
#setw -g window-status-current-format "|#I:#(pwd | sed 's/^\/.*\///g')|"
setw -g window-status-current-format '#[fg=colour200]|#I: ∷ ☞ ✗ ☜  ∷ #F|'
setw -g window-status-format '#[fg=colour247]∈ #I:⊙〆'
set-window-option -g automatic-rename off
#set-window-option -g automatic-rename-format "#{$PS1}"
#set-option -g window-status-format '#I:#F'

#### COLOUR (Solarized dark)
# default statusbar colors
set-option -g status-bg black #base02
set-option -g status-fg yellow #yellow
set-option -g status-attr default

# default window title colors
set-window-option -g window-status-fg brightblue #base0
set-window-option -g window-status-bg default
set-window-option -g window-status-attr dim

# active window title colors
set-window-option -g window-status-current-fg brightred #orange
set-window-option -g window-status-current-bg default
set-window-option -g window-status-current-attr bright

# pane border
set-option -g pane-border-fg black #base02
set-option -g pane-active-border-fg brightgreen #base01

# message text
set-option -g message-bg black #base02
set-option -g message-fg brightred #orange

# pane number display
set-option -g display-panes-active-colour blue #blue
set-option -g display-panes-colour brightred #orange

# clock
set-window-option -g clock-mode-colour green #green

# bell
set-window-option -g window-status-bell-style fg=black,bg=red #base02, red)

# set color of command line
set -g message-fg white
set -g message-bg colour22
set -g message-attr bright

# Set the title bar
set -g set-titles on
set -g set-titles-string "▬ ϟ#hϟ ▬"

# configure contents of status bar
set -g status-utf8 on
set -g status-left-length 40
set -g status-left "\[#[fg=cyan]〄#[fg=yellow]#S\] "
set -g status-right-length 60
set -g status-right "#h#[fg=colour225] ▧ #[fg=default]\(#[fg=colour39]#(ifconfig enp0s3 | grep 'inet ' | awk '{print $2}')¤ #[fg=colour196]₩  #[fg=colour226]#(curl icanhazip.com)©#[fg=default]\) #[fg=colour14]┋ #[fg=colour255]%b %d %a %R"
set -g status-justify left
setw -g monitor-activity on
set -g visual-activity on

# reload config
bind r source-file ~/.tmux.conf \; display-message "Config reloaded..."
